<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <title>Rock Paper Scissors Part 2
  </title>
</head>

<body>

  <div id="game">
    <div>User choice:
      <span id="user-choice">nothing</span>
    </div>
    <div>Computer choice:
      <span id="computer-choice">nothing</span>
    </div>
    <div>Result:
      <span id="result">nothing</span>
    </div>
    <div>User wins:
      <span id="user-wins">0</span>
    </div>
    <div>User losses:
      <span id="user-losses">0</span>
    </div>
    <div>User ties:
      <span id="user-ties">0</span>
    </div>

  </div>

  <script type="text/javascript">

    // Creates an array that lists out all of the options (Rock, Paper, or Scissors).
    var computerChoices = ["r", "p", "s"];
    var userWins = 0; 
    var userLosses = 0;
    var userTies = 0;
    var result;

    // This function is run whenever the user presses a key.
    document.onkeyup = function (event) {

      // Determines which key was pressed.
      var userGuess = event.key;

      var userLost = function() {
        userLosses++;
        document.querySelector('#result').innerHTML = 'User lost.';       
      }

      var userWon = function() {
        userWins++;
        document.querySelector('#result').innerHTML = 'User wins.';
      }

      var userTied = function() {
        userTies++;
        document.querySelector('#result').innerHTML = 'User tied.';     
      }

      if (userGuess === 'r' || userGuess === 'p' || userGuess === 's') {

        document.querySelector('#user-choice').innerHTML = userGuess;

        // Randomly chooses a choice from the options array. This is the Computer's guess.
        var computerGuess = computerChoices[Math.floor(Math.random() * computerChoices.length)];

        document.querySelector('#computer-choice').innerHTML = computerGuess;

        if (userGuess === 'r') {
          if (computerGuess === 'p') {
            userLost();
          } else if (computerGuess === 's') {
            userWon();
          } else if (computerGuess === 'r') {
            userTied();
          }
        } else if (userGuess === 'p') {
          if (computerGuess === 's') {
            userLost();
          } else if (computerGuess === 'r') {
            userWon();
          } else if (computerGuess === 'p') {
            userTied();
          }
        } else if (userGuess === 's') {
          if (computerGuess === 'r') {
            userLost();
          } else if (computerGuess === 'p') {
            userWon();
          } else if (computerGuess === 's') {
            userTied();
          }
        }

        document.querySelector('#user-wins').innerHTML = userWins;
        document.querySelector('#user-losses').innerHTML = userLosses;
        document.querySelector('#user-ties').innerHTML = userTies;        
      }
    };
  </script>

</body>

</html>